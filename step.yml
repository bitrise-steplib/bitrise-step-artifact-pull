---
title: Artifact pull
summary: Step to pull artifacts of a pipeline
description: |-
  The step downloads build artifacts of a pipeline to a local folder.

  By default, all artifacts generated by any workflow of the pipeline are downloaded. This can be limited
  by setting the `artifact_sources` input variable.

  Please note that this step is designed to be executed on the CI only.

website: https://github.com/bitrise-steplib/bitrise-step-artifact-pull
source_code_url: https://github.com/bitrise-steplib/bitrise-step-artifact-pull
support_url: https://github.com/bitrise-steplib/bitrise-step-artifact-pull/issues
type_tags:
- utility
is_always_run: false
is_skippable: false
toolkit:
  go:
    package_name: github.com/bitrise-steplib/bitrise-step-artifact-pull

inputs:
- verbose: "false"
  opts:
    title: Enable verbose logging
    summary: Enable logging additional information for debugging
    is_required: true
    value_options:
    - "true"
    - "false"

- artifact_sources: .*
  opts:
    title: Artifact source
    summary: |-
      The list of the stage and workflow
      paths, which can generate artifacts.
    description: |-
      A comma separated list of workflows and stage paths, which can generate artifacts.
      You need to use the `{stage}.{workflow}` syntax.
      The "dot" character is the delimiter between the stage and the workflow.
      
      You can use regular expressions.
      The default value is `.*` (star), which means, it will get every artifact from every workflow.
      
      Do not forget to escape the special characters.
      If you want to match all workflow from a stage then you need to escape the `.` separator and the use the `.*` any characters regex like `{stage-name}\..*`.

- export_map: |-
  opts:
    title: Output variable export map
    description: |-
      Variable export map, use the following regular expression syntax to collect the downloaded file's locations into separated environment variables (do not forget to escape the special chatacters):
      DOWNLOADED_APKS: .*\.apk
      DOWNLOADED_TEST_RESULTS: .*\.result
      DOCS: .*\.txt,.*\.doc
    is_expand: false
    is_required: true

- finished_stage: $BITRISEIO_FINISHED_STAGES
  opts:
    title: The finished stages for which artifacts are available to download
    summary: This is a JSON representation of the finished stages for which the step can download build artifacts.
    is_required: true
    is_dont_change_value: true

- bitrise_api_base_url: https://api.bitrise.io
  opts:
    title: Bitrise API base URL
    summary: The base URL of the Bitrise API used to process the download requests.
    is_required: true
    is_dont_change_value: true

- bitrise_api_access_token: $BITRISEIO_ARTIFACT_PULL_TOKEN
  opts:
    title: Access token to call the Bitrise API
    summary: The OAuth access token that authorizes to call the Bitrise API.
    is_dont_change_value: true
    is_expand: true
    is_sensitive: true

outputs:
- BITRISE_ARTIFACT_PATHS:
  opts:
    title: Pulled artifacts locations
    summary: An absolute path list of the downloaded artifacts. The list is separated with pipe (|) characters.
